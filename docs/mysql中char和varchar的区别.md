### mysql中char和varchar的区别

------



>  在mysql中char是不可变长度类型，varchar是可变长度类型。

### 字符与字节的区别

> 一个字符由于所使用的字符集的不同，会并存储在一个或多个字节中，所以一个字符占用多少个字节取决于所使用的字符集
>
> 注意：char与varchar后面接的数据大小为存储的字符数，而不是字节数

### char和varchar 的区别

```
CREATE TABLE `t_users` (
 `name` CHAR(10) NOT NULL,
 `subject` VARCHAR(10) NOT NULL,
 `description` CHAR(10) NOT NULL
)


INSERT INTO `t_users` (`name`, `subject`, `description`) VALUES ('zejin', 'zejin ', 'zejin ')
```

#### 存数据时的区别

>char定义的是固定长度，长度范围为0-255，存储时，如果字符数没有达到定义的位数，会在后面用空格补全存入数据库中，在上例中，name实际存储在数据中的数据为'zejin '

> varchar是变长长度，长度范围为0-65535，存储时，如果字符没有达到定义的位数，也不会在后面补空格，在上例subject字段中，实际存储在数据中的数据为'zejin '，当然还有一或两个字节来描述该字节长度

#### 取数据的区别

> 在char中的尾部存入空格时，最后取出来都会被丢弃。取varchar数据时，尾部空格会保留，譬如subject字段。

### 总结：

**char：**存储定长数据很方便，CHAR字段上的索引效率级高，必须在括号里定义长度，可以有默认值，比如定义char(10)，那么不论你存储的数据是否达到了10个字节，都要占去10个字节的空间（自动用空格填充），且在检索的时候后面的空格会隐藏掉，所以检索出来的数据需要记得用什么trim之类的函数去过滤空格。

**varchar：**存储变长数据，但存储效率没有CHAR高，必须在括号里定义长度，可以有默认值。保存数据的时候，不进行空格自动填充，而且如果数据存在空格时，当值保存和检索时尾部的空格仍会保留。另外，varchar类型的实际长度是它的值的实际长度+1，这一个字节用于保存实际使用了多大的长度。

**text：**存储可变长度的非Unicode数据，最大长度为2^31-1个字符。text列不能有默认值，存储或检索过程中，不存在大小写转换，后面如果指定长度，不会报错误，但是这个长度是不起作用的，意思就是你插入数据的时候，超过你指定的长度还是可以正常插入。